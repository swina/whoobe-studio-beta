(("undefined"!==typeof self?self:this)["webpackJsonpWhoobeStore"]=("undefined"!==typeof self?self:this)["webpackJsonpWhoobeStore"]||[]).push([[6,5],{d28b:function(t,e,n){var r=n("746f");r("iterator")},d81d:function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").map,s=n("1dde"),o=s("map");r({target:"Array",proto:!0,forced:!o},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},dec2:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.current?n("div",[t._l(Object.keys(t.datastore.schema.plugins),(function(e,r){return[t.current.hasOwnProperty(e)?n("details",[n("summary",{staticClass:"bg-gray-200 p-1 mt-1 text-lime-600 text-lg outline-none border-0 focus:outline-none cursor-pointer  capitalize font-bold",on:{click:function(n){t.summary=e}}},[t._v(t._s(e))]),t.summary.includes(e)?n("div",[t._l(Object.keys(t.current[e]).sort(),(function(r){return[t.current[e].hasOwnProperty(r)&&"object"===typeof t.current[e][r]?n("div",{staticClass:"p-2 bg-gray-300"},[n("details",[n("summary",{staticClass:"outline-none border-0 focus:outline-none cursor-pointer  capitalize font-bold",on:{click:function(n){t.summary=e+r}}},[t._v(t._s(r))]),t.summary===e+r?n("div",[t._l(Object.keys(t.current[e][r]),(function(i){return[t.current[e][r].hasOwnProperty(i)?n("div",{key:e+r+i},[n("label",[t._v(t._s(i))]),"string"===typeof t.current[e][r][i]&&"config"!=i?n("input",{directives:[{name:"model",rawName:"v-model",value:t.current[e][r][i],expression:"current[field][f][ff]"}],staticClass:"w-full",attrs:{type:"text"},domProps:{value:t.current[e][r][i]},on:{input:function(n){n.target.composing||t.$set(t.current[e][r],i,n.target.value)}}}):t._e(),"number"===typeof t.current[e][r][i]&&"config"!=i?n("input",{directives:[{name:"model",rawName:"v-model",value:t.current[e][r][i],expression:"current[field][f][ff]"}],staticClass:"w-full",attrs:{type:"number"},domProps:{value:t.current[e][r][i]},on:{input:function(n){n.target.composing||t.$set(t.current[e][r],i,n.target.value)}}}):t._e(),"boolean"===typeof t.current[e][r][i]?n("input",{directives:[{name:"model",rawName:"v-model",value:t.current[e][r][i],expression:"current[field][f][ff]"}],staticClass:"float-left",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.current[e][r][i])?t._i(t.current[e][r][i],null)>-1:t.current[e][r][i]},on:{change:function(n){var s=t.current[e][r][i],o=n.target,a=!!o.checked;if(Array.isArray(s)){var c=null,l=t._i(s,c);o.checked?l<0&&t.$set(t.current[e][r],i,s.concat([c])):l>-1&&t.$set(t.current[e][r],i,s.slice(0,l).concat(s.slice(l+1)))}else t.$set(t.current[e][r],i,a)}}}):t._e()]):t._e()]})),t._m(0,!0)],2):t._e()])]):n("div",{staticClass:"p-2"},[n("label",{staticClass:"capitalize"},[t._v(t._s(r))]),"string"===typeof t.current[e][r]&&"config"!=r?n("input",{directives:[{name:"model",rawName:"v-model",value:t.current[e][r],expression:"current[field][f]"}],staticClass:"w-full",attrs:{type:"text"},domProps:{value:t.current[e][r]},on:{input:function(n){n.target.composing||t.$set(t.current[e],r,n.target.value)}}}):t._e(),"boolean"===typeof t.current[e][r]?n("input",{directives:[{name:"model",rawName:"v-model",value:t.current[e][r],expression:"current[field][f]"}],staticClass:"float-left",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.current[e][r])?t._i(t.current[e][r],null)>-1:t.current[e][r]},on:{change:function(n){var i=t.current[e][r],s=n.target,o=!!s.checked;if(Array.isArray(i)){var a=null,c=t._i(i,a);s.checked?c<0&&t.$set(t.current[e],r,i.concat([a])):c>-1&&t.$set(t.current[e],r,i.slice(0,c).concat(i.slice(c+1)))}else t.$set(t.current[e],r,o)}}}):t._e(),"object"===typeof t.current[e][r]?n("div",[t._v(" "+t._s(t.current[e][r])+" ")]):t._e(),"config"===r?n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.current[e][r],expression:"current[field][f]"}],staticClass:"w-full",domProps:{value:t.current[e][r]},on:{input:function(n){n.target.composing||t.$set(t.current[e],r,n.target.value)}}}):t._e()])]}))],2):t._e()]):t._e()]}))],2):t._e()},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{staticClass:"sm"},[t._v("Add key")])])}],s=n("5530"),o=n("2f62"),a={name:"MokaPluginConfigurator",data:function(){return{summary:"",plugin:null}},computed:Object(s["a"])({},Object(o["a"])(["datastore"])),props:["current"]},c=a,l=n("2877"),u=Object(l["a"])(c,r,i,!1,null,null,null);e["default"]=u.exports},e01a:function(t,e,n){"use strict";var r=n("23e7"),i=n("83ab"),s=n("da84"),o=n("5135"),a=n("861d"),c=n("9bf2").f,l=n("e893"),u=s.Symbol;if(i&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};l(f,u);var p=f.prototype=u.prototype;p.constructor=f;var g=p.toString,m="Symbol(test)"==String(u("test")),v=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var t=a(this)?this.valueOf():this,e=g.call(t);if(o(d,t))return"";var n=m?e.slice(7,-1):e.replace(v,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:f})}},ebca:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-2 flex flex-col"},[n("div",{staticClass:"grid grid-cols-3 grid-flow-row items-center",staticStyle:{"grid-template-columns":"1fr 2fr 1fr"}},[n("button",{on:{click:t.addPlugin}},[t._v("Add plugin")])]),t.plugins?n("div",{staticClass:"grid grid-cols-4 gap-4"},[t._l(t.plugins,(function(e){return[n("div",{staticClass:"p-4 relative shadow border rounded justify-center items-center flex flex-col"},[e.general.enabled?t._e():n("i",{staticClass:"material-icons text-5xl bg-gray-300 p-2 rounded-full"},[t._v("settings_input_component")]),e.general.enabled?n("i",{staticClass:"material-icons text-5xl bg-lime-500 p-2 rounded-full"},[t._v("settings_input_component")]):t._e(),n("div",[t._v(t._s(e.general.name))]),n("div",{staticClass:"text-sm text-center"},[t._v(t._s(e.general.description||" "))]),n("button",{class:e.general.enabled?"danger":"success"},[t._v(t._s(e.general.enabled?"Disable":"Enable"))]),n("i",{staticClass:"absolute top-0 right-0 m-1 material-icons my-2",on:{click:function(n){t.current=e,t.pluginSettings=!t.pluginSettings}}},[t._v("build")])])]}))],2):t._e(),t.pluginSettings?n("moka-modal",{attrs:{size:"lg",position:""},on:{close:function(e){t.pluginSettings=!t.pluginSettings},click_0:function(e){t.pluginSettings=!t.pluginSettings},click_1:function(e){return t.savePlugin()}}},[n("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.current.general.name||"New Plugin")+" settings")]),n("div",{staticClass:"relative h-3/5 p-2 w-full ",attrs:{slot:"content"},slot:"content"},[n("div",{staticClass:"absolute overflow-y-auto h-full w-11/12 m-2 bg-white"},[n("moka-plugin-configurator",{attrs:{current:t.current}})],1)]),n("div",{staticClass:"p-4 bg-red-100 text-center",attrs:{slot:"footer"},slot:"footer"},[n("i",[t._v("Please read the documentation before to enable/install a plugin")])])]):t._e()],1)},i=[];n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("e260"),n("ddb0");function s(t){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}var o=n("5530"),a=(n("cca6"),n("d81d"),n("b64b"),n("7db0"),n("dec2")),c=n("2f62"),l={name:"MokaPlugins",components:{MokaPluginConfigurator:a["default"]},data:function(){return{plugins:null,current:null,config:"",pluginSettings:!1,pluginNew:!1,configStr:{},configField:"{}"}},computed:Object(o["a"])({},Object(c["a"])(["moka","datastore"])),watch:{pluginSettings:function(t){}},methods:{addPlugin:function(){var t=this,e=Object.assign({},this.datastore.schema.plugins);Object.keys(e).map((function(n){"string"===typeof e[n]&&(e[n]=""),"boolean"===typeof e[n]&&(e[n]=!1),"object"===s(e[n])&&(t.configStr[n]="")})),e.id=this.$randomID(),this.current=e,this.pluginSettings=!0,this.pluginNew=!0},savePlugin:function(){var t=this;this.pluginNew?(this.$api.service("plugins").create(this.current).then((function(e){console.log("created=>",e),t.plugins.push(t.current)})),this.pluginNew=!1):this.$api.service("plugins").patch(this.current._id,this.current).then((function(t){console.log("patched=>",t)}))}},mounted:function(){var t=this;this.$api.service("plugins").find().then((function(e){t.plugins=e.data}))}},u=l,d=n("2877"),f=Object(d["a"])(u,r,i,!1,null,null,null);e["default"]=f.exports}}]);