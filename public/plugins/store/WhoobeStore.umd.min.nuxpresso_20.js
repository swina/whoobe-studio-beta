(("undefined"!==typeof self?self:this)["webpackJsonpWhoobeStore"]=("undefined"!==typeof self?self:this)["webpackJsonpWhoobeStore"]||[]).push([[9],{8197:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"relative"},[t._m(0),s("h3",{attrs:{id:"storeTop"}},[t._v("Store")]),s("p",[t._v("Prodotti "+t._s(t.total))]),s("div",{staticClass:"w-full text-center cursor-pointer"},[t.start>0?s("i",{staticClass:"mr-4 bi-chevron-left",on:{click:function(e){t.start=t.start-t.limit}}}):t._e(),s("small",[t._v(t._s(t.start+1)+"-"+t._s(t.start+t.limit)+" di "+t._s(t.total))]),t.start+t.limit<=t.total?s("i",{staticClass:"ml-4 bi-chevron-right",on:{click:function(e){t.start=t.start+t.limit}}}):t._e()]),s("div",{staticClass:"flex flex-row flex-wrap items-center justify-center"},[t._l(t.products,(function(e,i){return[s("div",{staticClass:"flex flex-col w-64 h-64 m-8 shadow-md rounded-md relative border-4 border-gray-200"},[s("img",{attrs:{src:e.image_uri}}),s("div",{staticClass:"p-4"},[s("div",{staticClass:"text-sm"},[t._v(t._s(e.name))]),s("div",[t._v("$ "+t._s(e.price)+"."),s("small",[t._v("00")])])]),s("div",{staticClass:"absolute items-center justify-center bg-gray-100 top-0 left-0 right-0 bottom-0 opacity-0 rounded-md bg-opacity-75 hover:opacity-100 animateme flex flex-row justify-between px-12"},[s("i",{staticClass:"material-icons snipcart-add-item moka-icon-circle text-2xl",attrs:{"data-item-id":e.code,"data-item-price":e.price,"data-item-url":"/product/"+e.code,"data-item-description":e.name,"data-item-image":e.image_uri,"data-item-name":e.name,title:"add to cart"}},[t._v("shopping_cart")]),s("i",{staticClass:"material-icons moka-icon-circle text-2xl",attrs:{title:"See more"},on:{click:function(s){t.current=e}}},[t._v("search")]),e.price?t._e():s("button",{on:{click:function(s){return t.setPrice(e.id,i)}}},[t._v("Set price")])])])]}))],2),s("div",{staticClass:"w-full text-center cursor-pointer"},[t.start>0?s("i",{staticClass:"mr-4 bi-chevron-left",on:{click:function(e){t.start=t.start-t.limit,t.scrollTop()}}}):t._e(),s("small",[t._v(t._s(t.start+1)+"-"+t._s(t.start+t.limit)+" di "+t._s(t.total))]),t.start+t.limit<=t.total?s("i",{staticClass:"ml-4 bi-chevron-right",on:{click:function(e){t.start=t.start+t.limit,t.scrollTop()}}}):t._e()]),s("transition",{attrs:{name:"animate-slideout"}},[t.current&&t.current.name?s("moka-modal",{attrs:{size:"lg",buttons:"none"},on:{close:function(e){t.current=!0}}},[s("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.current.name))]),s("div",{attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"grid grid-cols-3"},[s("img",{staticClass:"col-span-2",attrs:{src:t.current.image_uri}}),s("div",{staticClass:"p-4"},[s("div",{staticClass:"text-2xl"},[t._v(t._s(t.current.name))]),s("div",{staticClass:"text-sm text-gray-400"},[t._v(t._s(t.current.code))]),s("div",{staticClass:"text-2xl my-4"},[t._v("$ "+t._s(t.current.price)+"."),s("small",[t._v("00")])]),s("button",{staticClass:"snipcart-add-item px-2 py-2 success text-2xl",attrs:{"data-item-id":t.current.code,"data-item-price":t.current.price,"data-item-url":"/product/"+t.current.code,"data-item-description":t.current.name,"data-item-image":t.current.image_uri,"data-item-name":t.current.name,title:"add to cart"}},[t._v("Acquista")])])])])]):t._e()],1)],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"absolute right-0 top-0 text-xs flex flex-row items-center snipcart-checkout"},[s("span",{staticClass:"snipcart-items-count"}),s("i",{staticClass:"material-icons"},[t._v("shopping_bag")]),s("span",{staticClass:"snipcart-total-price"})])}],r=(s("a9e3"),s("a434"),{name:"NuxpressoProducts",data:function(){return{start:0,total:0,current:null}},computed:{limit:function(){return parseInt(this.$attrs.el.plugin.config.rows)}},watch:{start:function(){this.scrollTop()},current:function(t){t&&window.sessionStorage.setItem("moka-product-view",JSON.stringify(t))}},methods:{randomImage:function(t){return"https://source.unsplash.com/600x400?fashion&"+t},scrollTop:function(){var t=document.querySelector("#storeTop");t.scrollIntoView()},setPrice:function(t,e){var s=this,i={price:Number(Math.round(41*Math.random()+40),2)+".00"};this.$http.put("products/"+t,i).then((function(t){s.products[e].price=i,console.log(t)}))},deleteThis:function(t,e){var s=this;this.$http.delete("products/"+t).then((function(t){s.products.splice(e,1),console.log(t)}))}},mounted:function(){var t=this;this.$http.get("products/count").then((function(e){t.total=e.data})),this.$http.get("products").then((function(t){console.log(t)}))}}),c=r,n=(s("8aa9"),s("2877")),o=Object(n["a"])(c,i,a,!1,null,null,null);e["default"]=o.exports},"8aa9":function(t,e,s){"use strict";s("d4d4")},d4d4:function(t,e,s){}}]);