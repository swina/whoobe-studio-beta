(("undefined"!==typeof self?self:this)["webpackJsonpWhoobeMain"]=("undefined"!==typeof self?self:this)["webpackJsonpWhoobeMain"]||[]).push([[6],{"03fd":function(e,t,a){},"88f1":function(e,t,a){"use strict";a.r(t);var n,o,i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"modal z-highest",attrs:{id:"loadCloudinary"}},[a("textarea",{staticClass:"opacity-100 h-0 w-0",attrs:{id:"myUpload"},on:{input:e.emitImage}})])},r=[],u=a("b195");function l(e){console.log(e);var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("charset","utf-8"),t.setAttribute("data-cfasync","false"),t.setAttribute("src","https://widget.cloudinary.com/v2.0/global/all.js");var a=document.querySelector("#loadCloudinary");a.appendChild(t);var o=document.querySelector("#myUpload");t.onload=function(){n=cloudinary.createUploadWidget({cloudName:"".concat(e.cloudName),uploadPreset:"".concat(e.uploadPreset)},(function(e,t){!e&&t&&"success"===t.event&&(o.focus(),o.value=JSON.stringify(t.info),o.blur())})),n.open()}}var c={components:{mokaEditorContainer:u["a"]},name:"MokaCloudinaryWidget",data:function(){return{cloudName:"moodgiver",uploadedImage:""}},props:["config"],computed:{now:function(){return new Date},uploaded:function(){return console.log(o),this.$action("cloudinary_image"),this.$store.dispatch("cloudinary_image",o),o&&this.$emit("cloudinary",o),o=null,o}},methods:{emitImage:function(e){return null},openWidget:function(){n.open()}},mounted:function(){var e=this;document.querySelector("#myUpload").addEventListener("blur",(function(t){if(t.target.value){var a=JSON.parse(t.target.value),n={name:a.original_filename+"."+a.format,size:a.bytes/1e3,width:a.width,height:a.height,url:a.url,ext:a.format,previewUrl:a.thumbnail_url,mime:"image/"+a.format,formats:null};e.$api.service("media").create(n).then((function(a){console.log(a),t.target.value="",e.$action(),e.$store.dispatch("add_media",a)}))}})),l(this.config)}},s=c,d=(a("c6a8"),a("2877")),f=Object(d["a"])(s,i,r,!1,null,null,null);t["default"]=f.exports},c6a8:function(e,t,a){"use strict";a("03fd")}}]);