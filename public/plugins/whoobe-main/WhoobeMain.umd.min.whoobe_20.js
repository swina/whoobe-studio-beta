(("undefined"!==typeof self?self:this)["webpackJsonpWhoobeMain"]=("undefined"!==typeof self?self:this)["webpackJsonpWhoobeMain"]||[]).push([[7],{8197:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"relative"},[t._m(0),i("h3",{attrs:{id:"storeTop"}},[t._v("Store")]),i("p",[t._v("Prodotti "+t._s(t.total))]),i("div",{staticClass:"w-full text-center cursor-pointer"},[t.start>0?i("i",{staticClass:"mr-4 bi-chevron-left",on:{click:function(e){t.start=t.start-t.limit}}}):t._e(),i("small",[t._v(t._s(t.start+1)+"-"+t._s(t.start+t.limit)+" di "+t._s(t.total))]),t.start+t.limit<=t.total?i("i",{staticClass:"ml-4 bi-chevron-right",on:{click:function(e){t.start=t.start+t.limit}}}):t._e()]),i("div",{staticClass:"flex flex-row flex-wrap items-center justify-center"},[t._l(t.products,(function(e,s){return[i("div",{staticClass:"flex flex-col w-64 h-64 m-8 shadow-md rounded-md relative border-4 border-gray-200"},[i("img",{attrs:{src:e.image_uri}}),i("div",{staticClass:"p-4"},[i("div",{staticClass:"text-sm"},[t._v(t._s(e.name))]),i("div",[t._v("$ "+t._s(e.price)+"."),i("small",[t._v("00")])])]),i("div",{staticClass:"absolute items-center justify-center bg-gray-100 top-0 left-0 right-0 bottom-0 opacity-0 rounded-md bg-opacity-75 hover:opacity-100 animateme flex flex-row justify-between px-12"},[i("i",{staticClass:"material-icons snipcart-add-item moka-icon-circle text-2xl",attrs:{"data-item-id":e.code,"data-item-price":e.price,"data-item-url":"/product/"+e.code,"data-item-description":e.name,"data-item-image":e.image_uri,"data-item-name":e.name,title:"add to cart"}},[t._v("shopping_cart")]),i("i",{staticClass:"material-icons moka-icon-circle text-2xl",attrs:{title:"See more"},on:{click:function(i){t.current=e}}},[t._v("search")]),e.price?t._e():i("button",{on:{click:function(i){return t.setPrice(e.id,s)}}},[t._v("Set price")])])])]}))],2),i("div",{staticClass:"w-full text-center cursor-pointer"},[t.start>0?i("i",{staticClass:"mr-4 bi-chevron-left",on:{click:function(e){t.start=t.start-t.limit,t.scrollTop()}}}):t._e(),i("small",[t._v(t._s(t.start+1)+"-"+t._s(t.start+t.limit)+" di "+t._s(t.total))]),t.start+t.limit<=t.total?i("i",{staticClass:"ml-4 bi-chevron-right",on:{click:function(e){t.start=t.start+t.limit,t.scrollTop()}}}):t._e()]),i("transition",{attrs:{name:"animate-slideout"}},[t.current&&t.current.name?i("moka-modal",{attrs:{size:"lg",buttons:"none"},on:{close:function(e){t.current=!0}}},[i("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.current.name))]),i("div",{attrs:{slot:"content"},slot:"content"},[i("div",{staticClass:"grid grid-cols-3"},[i("img",{staticClass:"col-span-2",attrs:{src:t.current.image_uri}}),i("div",{staticClass:"p-4"},[i("div",{staticClass:"text-2xl"},[t._v(t._s(t.current.name))]),i("div",{staticClass:"text-sm text-gray-400"},[t._v(t._s(t.current.code))]),i("div",{staticClass:"text-2xl my-4"},[t._v("$ "+t._s(t.current.price)+"."),i("small",[t._v("00")])]),i("button",{staticClass:"snipcart-add-item px-2 py-2 success text-2xl",attrs:{"data-item-id":t.current.code,"data-item-price":t.current.price,"data-item-url":"/product/"+t.current.code,"data-item-description":t.current.name,"data-item-image":t.current.image_uri,"data-item-name":t.current.name,title:"add to cart"}},[t._v("Acquista")])])])])]):t._e()],1)],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"absolute right-0 top-0 text-xs flex flex-row items-center snipcart-checkout"},[i("span",{staticClass:"snipcart-items-count"}),i("i",{staticClass:"material-icons"},[t._v("shopping_bag")]),i("span",{staticClass:"snipcart-total-price"})])}],r=(i("a9e3"),i("a434"),{name:"NuxpressoProducts",data:function(){return{start:0,total:0,current:null}},computed:{limit:function(){return parseInt(this.$attrs.el.plugin.config.rows)}},watch:{start:function(){this.scrollTop()},current:function(t){t&&window.sessionStorage.setItem("moka-product-view",JSON.stringify(t))}},methods:{randomImage:function(t){return"https://source.unsplash.com/600x400?fashion&"+t},scrollTop:function(){var t=document.querySelector("#storeTop");t.scrollIntoView()},setPrice:function(t,e){var i=this,s={price:Number(Math.round(41*Math.random()+40),2)+".00"};this.$http.put("products/"+t,s).then((function(t){i.products[e].price=s,console.log(t)}))},deleteThis:function(t,e){var i=this;this.$http.delete("products/"+t).then((function(t){i.products.splice(e,1),console.log(t)}))}},mounted:function(){var t=this;this.$http.get("products/count").then((function(e){t.total=e.data})),this.$http.get("products").then((function(t){console.log(t)}))}}),c=r,n=(i("8aa9"),i("2877")),o=Object(n["a"])(c,s,a,!1,null,null,null);e["default"]=o.exports},"8aa9":function(t,e,i){"use strict";i("d4d4")},d4d4:function(t,e,i){}}]);